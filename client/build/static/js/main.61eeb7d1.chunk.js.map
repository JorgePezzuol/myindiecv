{"version":3,"sources":["components/Signin.js","auth/PrivateRoute.js","App.js","reportWebVitals.js","index.js"],"names":["Copyright","Typography","variant","color","align","Link","href","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","Signin","classes","push","useHistory","fetchToken","a","fetch","method","headers","body","JSON","stringify","email","password","response","json","data","handleSubmit","e","preventDefault","pathname","state","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","onSubmit","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","FormControlLabel","control","Checkbox","value","Button","Box","mt","PrivateRoute","Component","rest","useState","isLoggedIn","setIsLoggedIn","isLoading","setIsLoading","useEffect","authenticateToken","res","getAuthenticateToken","credentials","status","render","props","to","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.61eeb7d1.chunk.js","sourcesContent":["import React from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright Â© \"}\n      <Link color=\"inherit\" href=\"https://www.linkedin.com/in/jorge-pezzuol/\">\n        Jorge Pezzuol\n      </Link>\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100vh\",\n  },\n  image: {\n    backgroundImage: \"url(https://source.unsplash.com/random)\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundColor:\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function Signin() {\n  const classes = useStyles();\n  const { push } = useHistory();\n\n  const fetchToken = async () => {\n    const response = await fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ email: \"jorge2@test.com\", password: \"testpass\" }),\n    });\n    const data = await response.json();\n    return data;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const res = await fetchToken();\n    if (res) {\n      push({\n        pathname: \"/profile\",\n        state: {},\n      });\n    }\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} onSubmit={handleSubmit}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              type=\"email\"\n              autoFocus\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n            />\n            <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item xs>\n                <Link href=\"#\" variant=\"body2\">\n                  Forgot password?\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link href=\"#\" variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport { useEffect, useState, useMemo } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const getAuthenticateToken = async () => {\n      const res = await authenticateToken();\n      setIsLoggedIn(res);\n      setIsLoading(false);\n    };\n    getAuthenticateToken();\n  }, []);\n\n  const authenticateToken = async () => {\n    const res = await fetch(\"/authenticateToken\", {\n      credentials: \"include\",\n    });\n    return res.status === 401 ? false : true;\n  };\n\n  return isLoading ? (\n    <p>Loading...</p>\n  ) : (\n    <Route\n      {...rest}\n      render={(props) =>\n        isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import { Switch, Route, BrowserRouter as Router } from \"react-router-dom\";\nimport Signin from \"./components/Signin\";\nimport PrivateRoute from \"./auth/PrivateRoute\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route render={() => <p>/</p>} exact path=\"/\" />\n        <Route render={() => <p>/home</p>} exact path=\"/home\" />\n        <Route component={Signin} exact path=\"/login\" />\n        <PrivateRoute component={Signin} path=\"/profile\" exact />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}